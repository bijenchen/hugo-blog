---
title: "20210910"
menuTitle: ""
date: 2021-09-10T18:26:14+08:00
draft: true
hide: true
tags: ["Work Journal"]
pre : "<b>[工作日誌] </b>"
---
## 事件紀錄

### 關於 docker container log & cronjob
由於 laravel 專案有個排程要跑，想要紀錄 schedule:run 的執行過程，所以想在
`docker container logs` 記下執行過程。  
先說結論：繞了一圈之後變成在專案 storage/log 裡面記 log ，因為 `artisan schedule:run` 似乎會背景執行，所以過程並不會被 docker 的 log 捉住。  

剛開始得到的提示是使用 STDOUT 模式抓到輸出內容。
排程增加 `2>&1` 參數理論上就能拿到輸出內容。  
像是  
```shell
* * * * *     /script 2>&1
```
在 docker [官方文件](https://docs.docker.com/config/containers/logging/) 也提供了補充資料參考。

參考
- [docker 容器相關知識](https://kejyuntw.gitbooks.io/docker-learning-notes/content/container/container-run.html)
    - 內含如何`進入容器執行特定檔案`與`看 log `的指令
- [docker crontab 定期排程執行程式](https://dev.kejyun.com/article/2021/08/docker-crontab/)
- [排程](https://ubuntu-for-newbie.kejyun.com/docs/system/crontab-schedule/)
- [docker logs](https://stevenitlife.blogspot.com/2018/02/docker-logs.html)
- [Day11：介紹執行 Docker Container 常用到的指令(一)](https://ithelp.ithome.com.tw/articles/10191634)
- [Container內部及外部的執行](https://joshhu.gitbooks.io/dockercommands/content/Containers/IntoContainers.html)
- [Cron Job Examples and Tip](https://www.devdungeon.com/content/cron-job-examples-and-tip)
- [View logs for a container or service](https://docs.docker.com/config/containers/logging/)
- [I/O Redirection](https://tldp.org/LDP/abs/html/io-redirection.html)
    - docker 官方佛心提供連結
    - `2>&1` 與其他小夥伴
- [DockerFile 的寫法](https://github.com/nginxinc/docker-nginx/blob/8921999083def7ba43a06fabd5f80e4406651353/mainline/jessie/Dockerfile#L21-L23)


### vscode 快捷鍵
- 預覽 md 檔的內容： `command` + `shift` + `v`
    - 不小心按到，偶然發現XD

### laravel 8 collection
- 找交集： `intersect()`
    - [官方文件](https://laravel.com/docs/8.x/collections#method-intersect)
    - php 原生 function: [array_intersect](https://www.php.net/manual/en/function.array-intersect.php)

## 總結

### 1. 工作技能有沒有因此成長了？

write something here ~

### 2. 計畫如何改善現況或者可以試著做得更好？

write something here ~

### 3. 如何在這件事上提升效率？

write something here ~

### 4. 有沒有把時間花在刀口上？

write something here ~


## 關鍵字

- xxx
